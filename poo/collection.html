<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Les Collections</title>
    <script>
        // dictionnaire (tableau associatif) Class Map (Mapping = association)

        let map = new Map();

        map.set('name', 'John Doe')
            .set('email', 'john.doe@gmail.com')
            .set('phone', '06 118 219 00');

        console.log(map);
        console.log(`map size = ${map.size}`);

        console.log(`le numéro de ${map.get('name')} est le ${map.get('phone')}`);

        map.delete('phone');

        if (map.has('phone')) {
            console.log(`le numéro de ${map.get('name')} est le ${map.get('phone')}`);
        } else {
            console.log(`le numéro de ${map.get('name')} est le ...`);
        }

        // map.clear() -> vide la map de toutes ces éléments
        // .entries() / .keys() / .values()
        // .padEnd() / .padStart()
        for (let [key, value] of map.entries()) {
            console.log(`${key.toUpperCase().padEnd(7, " ")} = ${value}`);
        }

        // Class Map implémente un design pattern Iterator
        // Iterator permet de parcourrir un objet comme s'il était un tableau
        // Iterator -> iterable -> structure d'iteration (for/forin/forof/while/dowhile/.forEach)
        for (let value of map) {
            console.log(`${value[0]} = ${value[1]}`);
        }

        // tableau de valeurs unique Class Set

        console.log('----- Class Set -----');

        let set = new Set();

        set.add('John').add('Aria').add('Tyrion').add('John').add('Sansa');

        console.log(set);
        console.log(`Set length = ${set.size}`); // 4

        set.delete('Sansa');

        if (!set.has('Sansa')) {
            console.log('Bonne Nouvelle !');
        }

        for(let value of set){
            console.log(value);
        }

        set.clear();

        console.log(set);

        console.log('----- Object -----');

        // User -> name/phone/email/Address
        // Address -> city/country

        class UserFactory {

            static createUser(){
                let info = { name: 'John Doe', email: 'john.doe@gmail.com', phone: '06 118 219 00' };
                let address = { city: 'Lille', country: 'France' };
                let user = {};

                // disponible depuis es6
                // je prends chacune des valeurs de infos et address, et je les attributs user
                Object.assign(user, info, address);

                return user;
            }

        }

        console.log('User = ', UserFactory.createUser());
    </script>
</head>
<body>

</body>
</html>
